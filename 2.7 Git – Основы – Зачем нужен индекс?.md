#### Конспект

1. **Определение**  
    _Индекс_ (staging area) — промежуточное хранилище снимка, который станет следующим коммитом.
    
2. **Почему не сразу commit?**
    
    - **Группировка изменений** — можно выбрать, что войдёт.
        
    - **Подготовка/проверка** — `git diff --staged` перед фиксацией.
        
    - **Многофайловые атомарные шаги** — добавляете части из разных директорий, коммитите как одно логическое изменение.
        
3. **Трёх-фазная модель** 

| Рабочая копия         | Индекс      | История        |
| --------------------- | ----------- | -------------- |
| Редактирование файлов | `git add` → | `git commit` → |


4. **Команды работы с индексом**
    
    - `git add / git add -p` — _внести_ изменения.
        
    - `git restore --staged` (`git reset <file>`) — _убрать_ из индекса.
        
    - `git diff` (без флага) — рабочая ↔ индекс; `git diff --staged` — индекс ↔ HEAD.
        
5. **Частые вопросы**
    
    - _Можно ли миновать индекс?_ — да, `git commit -a` (только отслеживаемые **modifications**) или `git add -u` + commit.
        
    - _Почему файл попал, хотя я не добавлял?_ — работали с `git mv`, `git merge`, `git cherry-pick` — Git сам кладёт в индекс.
        

---
