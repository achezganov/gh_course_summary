

1. **Ситуация:** есть изменения в рабочей копии, нужно переключиться.
    
2. **Git не даст потерять работу**
    
    - Если изменения _чисто применимы_ к целевой ветке → Git выполнит merge-like перенос (fast-forward рабочих файлов).
        
    - Если возникнут конфликты → Git _откажет_ (`error: Your local changes to the following files would be overwritten`).
        
3. **Опции обхода**
    
    - `git stash push -m "<msg>"` — убрать изменения временно, затем `git switch <branch>` и `git stash apply`.
        
    - `git switch -c <new> --discard-changes` (или `--force`) — потерять правки нарочно.
        
    - `git commit -a` → переключиться (если хотите сохранить как WIP).
        
4. **Почему бывает «чистый» переход**
    
    - Файл изменён, но в целевой ветке тот же базовый хэш → patch применим без конфликтов.
        
    - Git делает автоматический _three-way merge_ в рабочей области, **не** создавая коммит.
        
5. **Практический рецепт**
    
    - Проверить статус: `git status`.
        
    - Если «modified, not staged»: подумайте — stash, commit или discard.
        
    - Никогда не используйте `--force` без резервной копии.
        

---
